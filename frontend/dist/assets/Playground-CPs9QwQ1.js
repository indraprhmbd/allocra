import{c as y,d as L,g as O,a as r,b as e,h as p,u as i,E as C,i as d,G as D,t as c,s as A,v as N,e as k,D as R,f as g,w as F,H as P,l as _,o,F as z,j,n as V,_ as U}from"./index-Cnm_OeQY.js";import{I as B}from"./IconAlertCircle-CpClzLto.js";import{a as w}from"./api-Ca2zvfGq.js";var M=y("outline","dice","Dice",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14",key:"svg-0"}],["path",{d:"M8 8.5a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-1"}],["path",{d:"M15 8.5a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-2"}],["path",{d:"M15 15.5a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-3"}],["path",{d:"M8 15.5a.5 .5 0 1 0 1 0a.5 .5 0 1 0 -1 0",fill:"currentColor",key:"svg-4"}]]);var G=y("outline","player-play","PlayerPlay",[["path",{d:"M7 4v16l13 -8l-13 -8",key:"svg-0"}]]);var $=y("outline","trash","Trash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);const H={class:"max-w-6xl mx-auto py-8 px-4 space-y-8"},Y={class:"flex items-start justify-between"},q={class:"space-y-1"},Q={class:"text-3xl font-bold text-primary tracking-tighter flex items-center gap-3"},X={class:"flex items-center gap-4"},J={class:"w-10 h-10 rounded-sm bg-accent/10 border border-accent/20 flex items-center justify-center"},K={class:"grid grid-cols-1 lg:grid-cols-12 gap-8"},W={class:"lg:col-span-4 space-y-6"},Z={class:"bg-surface border border-border p-6 rounded-sm space-y-6"},ee={class:"text-xs font-bold text-primary uppercase tracking-widest flex items-center gap-2"},te={class:"space-y-4"},se={class:"space-y-2"},ae={class:"flex justify-between text-[10px] font-mono text-muted uppercase"},oe={class:"text-accent"},ne={class:"p-4 bg-background/50 border border-dashed border-border rounded-sm space-y-2"},re={class:"text-[10px] text-muted font-mono leading-relaxed"},le=["disabled"],ie={class:"relative z-10 flex items-center justify-center gap-2"},de={class:"p-4 bg-yellow-500/5 border border-yellow-500/20 rounded-sm flex gap-3"},ce={class:"lg:col-span-8 flex flex-col h-[600px]"},ue={class:"bg-background border border-border rounded-sm flex flex-col h-full shadow-inner"},pe={class:"p-3 border-b border-border bg-surface/50 flex items-center justify-between"},me={class:"flex-1 overflow-y-auto p-4 font-mono text-[11px] space-y-2 selection:bg-accent/30"},fe={key:0,class:"h-full flex items-center justify-center text-muted/30 uppercase tracking-widest italic"},ve={class:"text-muted/50 shrink-0"},ge={class:"space-y-1"},xe={key:0,class:"mr-1"},_e={key:1,class:"mr-1"},be={key:2,class:"mr-1"},he={key:0,class:"text-muted/60 pl-4 border-l border-border/50 text-[10px] leading-relaxed italic"},ye={class:"p-2 border-t border-border bg-surface/30 px-4 flex justify-between items-center"},ke={class:"flex gap-4"},we={class:"text-[9px] text-muted uppercase"},Me=L({__name:"Playground",setup(Te){const m=_(!1),f=_([]),v=_(5),l=_([]),T=async()=>{try{const a=await w.get("/rooms");f.value=a.data}catch{n("error","SYSTEM","Failed to fetch resource nodes")}},n=(a,t,s,b)=>{const u={id:Math.random().toString(36).substring(7),timestamp:new Date().toLocaleTimeString(),type:a,message:`[${t}] ${s}`,details:b};l.value.unshift(u),l.value.length>50&&l.value.pop()},S=()=>{l.value=[]},E=async a=>{const t=f.value[Math.floor(Math.random()*f.value.length)],s=new Date,b=5+a*15+Math.floor(Math.random()*60);s.setMinutes(s.getMinutes()+b);const u=new Date(s);u.setHours(u.getHours()+1+Math.floor(Math.random()*2));try{const x={room_id:t.id,user_id:1,start_time:s.toISOString(),end_time:u.toISOString()};await w.post("/bookings",x),n("success",t.name,`Allocation approved for ${s.toLocaleTimeString()} - ${u.toLocaleTimeString()}`)}catch(x){const h=x.response?.data?.error||"Unknown error";x.response?.status===409||h.includes("conflict")?n("conflict",t.name,"Resource conflict detected",h):n("error",t.name,`Failed: ${h}`)}},I=async()=>{if(f.value.length===0){n("error","SYSTEM","Aborting: No resources found");return}m.value=!0,n("info","FLOOD",`Initiating batch of ${v.value} requests...`);for(let a=0;a<v.value;a++)await E(a),await new Promise(t=>setTimeout(t,100));n("info","FLOOD","Batch execution completed."),m.value=!1};return O(()=>{T(),n("info","SYSTEM","Playground engine initialized. REPL ready.")}),(a,t)=>(o(),r("div",H,[e("div",Y,[e("div",q,[e("h2",Q,[p(i(C),{class:"text-accent"}),t[1]||(t[1]=d(" ALLOCRA_PLAYGROUND ",-1))]),t[2]||(t[2]=e("p",{class:"text-muted text-sm font-mono uppercase tracking-widest bg-accent/5 px-2 py-0.5 rounded-sm inline-block"}," Deterministic_Stress_Testing_Unit_v2 ",-1))]),e("div",X,[t[3]||(t[3]=e("div",{class:"text-right"},[e("p",{class:"text-[10px] font-mono text-muted uppercase"}," Engine_Status "),e("p",{class:"text-green-500 font-bold font-mono"},"NOMINAL")],-1)),e("div",J,[p(i(D),{class:"text-accent"})])])]),e("div",K,[e("div",W,[e("div",Z,[e("h3",ee,[p(i(M),{size:14}),t[4]||(t[4]=d(" Simulation_Parameters ",-1))]),e("div",te,[e("div",se,[e("div",ae,[t[5]||(t[5]=e("span",null,"Request_Flood_Level",-1)),e("span",oe,c(v.value)+" REQS",1)]),A(e("input",{type:"range","onUpdate:modelValue":t[0]||(t[0]=s=>v.value=s),min:"1",max:"50",class:"w-full accent-accent bg-background h-1.5 rounded-full appearance-none border border-border"},null,512),[[N,v.value,void 0,{number:!0}]])]),e("div",ne,[e("p",re,[d(" > TARGET: "+c(f.value.length)+" NODES ACTIVE",1),t[6]||(t[6]=e("br",null,null,-1)),t[7]||(t[7]=d(" > STRATEGY: STOCHASTIC_TIME_SLOTS",-1)),t[8]||(t[8]=e("br",null,null,-1)),t[9]||(t[9]=d(" > MODE: SEQUENTIAL_TRACE ",-1))])])]),e("button",{onClick:I,disabled:m.value,class:"w-full relative group bg-accent hover:bg-accent-hover text-white text-xs font-bold uppercase tracking-[0.2em] py-4 rounded-sm transition-all disabled:opacity-50 overflow-hidden"},[t[10]||(t[10]=e("div",{class:"absolute inset-0 bg-white/10 -translate-x-full group-hover:translate-x-0 transition-transform duration-500"},null,-1)),e("span",ie,[m.value?(o(),k(i(M),{key:1,size:16,class:"animate-spin"})):(o(),k(i(G),{key:0,size:16})),d(" "+c(m.value?"EXECUTING_STORM...":"INITIATE_FLOOD"),1)])],8,le)]),e("div",de,[p(i(B),{size:16,class:"text-yellow-500 shrink-0 mt-0.5"}),t[11]||(t[11]=e("p",{class:"text-[10px] text-muted leading-relaxed"}," CAUTION: FLOOD_MODE generates real database entries. High volume may affect timeline visualization performance on weaker clients. ",-1))])]),e("div",ce,[e("div",ue,[e("div",pe,[t[12]||(t[12]=R('<div class="flex items-center gap-2" data-v-3327e080><div class="flex gap-1" data-v-3327e080><div class="w-2.5 h-2.5 rounded-full bg-red-500/50" data-v-3327e080></div><div class="w-2.5 h-2.5 rounded-full bg-yellow-500/50" data-v-3327e080></div><div class="w-2.5 h-2.5 rounded-full bg-green-500/50" data-v-3327e080></div></div><span class="text-[10px] font-mono font-bold text-muted ml-4 uppercase tracking-widest" data-v-3327e080>Live_Engine_Tracer</span></div>',1)),e("button",{onClick:S,class:"text-muted hover:text-red-400 transition-colors",title:"Clear Logs"},[p(i($),{size:14})])]),e("div",me,[l.value.length===0?(o(),r("div",fe," Awaiting_Input... ")):g("",!0),p(P,{name:"log"},{default:F(()=>[(o(!0),r(z,null,j(l.value,s=>(o(),r("div",{key:s.id,class:"flex gap-3 group animate-in slide-in-from-left-1 duration-200"},[e("span",ve,c(s.timestamp),1),e("div",ge,[e("div",{class:V({"text-green-400":s.type==="success","text-red-400":s.type==="conflict","text-accent":s.type==="info","text-red-500 font-bold":s.type==="error"})},[s.type==="success"?(o(),r("span",xe,"✓")):g("",!0),s.type==="conflict"?(o(),r("span",_e,"⚠")):g("",!0),s.type==="error"?(o(),r("span",be,"❌")):g("",!0),d(" "+c(s.message),1)],2),s.details?(o(),r("div",he,c(s.details),1)):g("",!0)])]))),128))]),_:1})]),e("div",ye,[e("div",ke,[e("span",we,"Trace_Buffer: "+c(l.value.length)+"/50",1)]),t[13]||(t[13]=e("div",{class:"flex items-center gap-1.5 animate-pulse"},[e("div",{class:"w-1.5 h-1.5 rounded-full bg-accent"}),e("span",{class:"text-[9px] text-accent uppercase font-bold tracking-tighter"},"Engine_Listening")],-1))])])])])]))}}),Oe=U(Me,[["__scopeId","data-v-3327e080"]]);export{Oe as default};
