import{c as g,d as w,g as R,a as E,b as t,h as r,u as m,i as M,s as c,v as x,w as l,l as i,o as C,t as _,x as I,y as S,z as T}from"./index-D3iJgDdo.js";import{I as A,_ as N,a as V}from"./ModalBase.vue_vue_type_script_setup_true_lang-D0t658v_.js";import{_ as D}from"./DataTable.vue_vue_type_script_setup_true_lang-CrsMgw0y.js";import{a as f}from"./api-Ca2zvfGq.js";var U=g("outline","adjustments-horizontal","AdjustmentsHorizontal",[["path",{d:"M12 6a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M6 12a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M15 18a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]]);var $=g("outline","search","Search",[["path",{d:"M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);const z={class:"space-y-8"},j={class:"flex items-end justify-between"},B={class:"flex items-center gap-4"},H={class:"relative flex-1 max-w-md group"},q={class:"border border-border p-2 rounded-sm text-muted hover:text-primary hover:border-muted transition-colors"},L={class:"bg-surface border border-border rounded-sm overflow-hidden"},O={class:"text-xs uppercase tracking-wide px-2 py-0.5 border border-border bg-background/50 rounded-full font-mono"},F={class:"flex items-center justify-end gap-3"},G=["onClick"],X={class:"space-y-2"},P={class:"grid grid-cols-2 gap-4"},Q={class:"space-y-2"},Y={class:"space-y-2"},se=w({__name:"Resources",setup(J){const{toast:d}=T(),n=i(!1),v=i(""),u=i(!1),h=[{key:"name",label:"Identifier",class:"font-mono"},{key:"capacity",label:"Capacity",class:"text-right w-32"},{key:"type",label:"Access Type",class:"w-40"},{key:"status",label:"Status",class:"w-40"},{key:"actions",label:"",class:"w-20 text-right"}],y=i([]),o=i({name:"",capacity:0,type:"shared"}),p=async()=>{u.value=!0;try{const a=await f.get("/rooms");y.value=a.data}catch{console.error("Failed to fetch resources")}finally{u.value=!1}},k=async a=>{if(confirm("Are you sure you want to decommission this resource?"))try{await f.delete(`/rooms/${a}`),d("Resource successfully decommissioned","success"),p()}catch{d("Decommissioning failed","error")}},b=async()=>{try{await f.post("/rooms",o.value),n.value=!1,o.value={name:"",capacity:0,type:"shared"},d("Resource registered successfully","success"),p()}catch{d("Registration failed","error")}};return R(()=>{p()}),(a,e)=>(C(),E("div",z,[t("div",j,[e[8]||(e[8]=t("div",null,[t("h2",{class:"text-2xl font-bold text-primary tracking-tight"}," Resource Management "),t("p",{class:"text-muted text-sm mt-1"}," Configure and monitor available system resources and nodes. ")],-1)),t("button",{onClick:e[0]||(e[0]=s=>n.value=!0),class:"bg-accent hover:bg-accent-hover text-white text-xs font-bold uppercase tracking-widest px-4 py-2 rounded-sm transition-colors flex items-center gap-2"},[r(m(A),{size:16}),e[7]||(e[7]=M(" REGISTER_RESOURCE ",-1))])]),t("div",B,[t("div",H,[r(m($),{size:16,class:"absolute left-3 top-1/2 -translate-y-1/2 text-muted group-focus-within:text-accent transition-colors"}),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>v.value=s),type:"text",placeholder:"SEARCH_BY_IDENTIFIER...",class:"w-full bg-surface border border-border rounded-sm pl-10 pr-4 py-2 text-xs font-mono text-primary placeholder:text-muted focus:outline-none focus:border-accent/50 transition-colors"},null,512),[[x,v.value]])]),t("button",q,[r(m(U),{size:18})])]),t("div",L,[r(D,{columns:h,items:y.value,loading:u.value},{type:l(({value:s})=>[t("span",O,_(s),1)]),status:l(({value:s})=>[r(V,{status:s,variant:s==="online"?"success":s==="maintenance"?"warning":"error"},null,8,["status","variant"])]),actions:l(({item:s})=>[t("div",F,[e[9]||(e[9]=t("button",{class:"text-[10px] font-mono text-muted hover:text-primary transition-colors"}," EDIT ",-1)),t("button",{onClick:K=>k(s.id),class:"text-[10px] font-mono text-red-400/70 hover:text-red-400 transition-colors"}," DELETE ",8,G)])]),_:1},8,["items","loading"])]),r(N,{show:n.value,title:"Register New Resource",onClose:e[6]||(e[6]=s=>n.value=!1)},{actions:l(()=>[t("button",{type:"button",onClick:e[5]||(e[5]=s=>n.value=!1),class:"text-xs font-bold font-mono text-muted hover:text-primary px-4 py-2 transition-colors"}," CANCEL "),t("button",{type:"submit",onClick:b,class:"bg-accent hover:bg-accent-hover text-white text-xs font-bold uppercase tracking-widest px-6 py-2 rounded-sm transition-colors"}," SUBMIT_REGISTRATION ")]),default:l(()=>[t("form",{class:"space-y-6",onSubmit:S(b,["prevent"])},[t("div",X,[e[10]||(e[10]=t("label",{class:"text-[10px] font-mono text-muted uppercase tracking-widest"},"Resource Identifier",-1)),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.name=s),type:"text",required:"",class:"w-full bg-background border border-border rounded-sm p-3 text-sm text-primary focus:outline-none focus:border-accent",placeholder:"e.g. NODE-AX-05"},null,512),[[x,o.value.name]])]),t("div",P,[t("div",Q,[e[11]||(e[11]=t("label",{class:"text-[10px] font-mono text-muted uppercase tracking-widest"},"Capacity Units",-1)),c(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.capacity=s),type:"number",required:"",min:"1",class:"w-full bg-background border border-border rounded-sm p-3 text-sm text-primary focus:outline-none focus:border-accent",placeholder:"0"},null,512),[[x,o.value.capacity,void 0,{number:!0}]])]),t("div",Y,[e[13]||(e[13]=t("label",{class:"text-[10px] font-mono text-muted uppercase tracking-widest"},"Access Mode",-1)),c(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.type=s),class:"w-full bg-background border border-border rounded-sm p-3 text-sm text-primary focus:outline-none focus:border-accent"},[...e[12]||(e[12]=[t("option",{value:"shared"},"SHARED",-1),t("option",{value:"exclusive"},"EXCLUSIVE",-1)])],512),[[I,o.value.type]])])]),e[14]||(e[14]=t("div",{class:"bg-accent/5 border border-accent/20 p-4 rounded-sm"},[t("p",{class:"text-[10px] text-accent font-medium leading-relaxed uppercase"}," Note: Exclusive access resources can only serve one allocation at a time, regardless of requested capacity vs. total units. ")],-1))],32)]),_:1},8,["show"])]))}});export{se as default};
