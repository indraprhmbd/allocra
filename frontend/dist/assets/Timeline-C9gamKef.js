import{a as g}from"./api-Ca2zvfGq.js";import{c as y,d as w,g as $,o as a,a as n,b as e,F as i,i as c,t as f,u as m,l as T,n as h,h as z,m as _,_ as D,j as u,k as R}from"./index-D5JL-MAZ.js";var S=y("outline","calendar-event","CalendarEvent",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2l0 -12",key:"svg-0"}],["path",{d:"M16 3l0 4",key:"svg-1"}],["path",{d:"M8 3l0 4",key:"svg-2"}],["path",{d:"M4 11l16 0",key:"svg-3"}],["path",{d:"M8 15h2v2h-2l0 -2",key:"svg-4"}]]);var V=y("outline","filter","Filter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}]]);const j={class:"flex flex-col h-full bg-background select-none"},F={class:"flex border-b border-border bg-surface sticky top-0 z-10"},H={class:"flex-1 flex overflow-x-auto no-scrollbar"},I={class:"flex-1 overflow-y-auto overflow-x-hidden"},L={class:"w-48 border-r border-border p-4 font-mono text-xs text-primary bg-surface/30 flex items-center"},N={class:"flex-1 relative h-16 flex"},A=w({__name:"TimelineGrid",setup(k){const p=Array.from({length:24},(l,d)=>`${d}:00`),s=_([]),x=_(!1),C=async()=>{x.value=!0;try{const[l,d]=await Promise.all([g.get("/rooms"),g.get("/bookings/all")]);s.value=l.data.map(o=>{const t=d.data.filter(r=>r.room_id===o.id).map(r=>{const v=new Date(r.start_time),b=new Date(r.end_time),E=v.getHours()+v.getMinutes()/60,M=b.getHours()+b.getMinutes()/60;return{start:E,end:M,color:r.status==="approved"?"bg-accent":r.status==="rejected"?"border-2 border-red-500 bg-red-500/10":"bg-surface border border-border",label:`AL-${r.id}`,conflict:r.status==="rejected"}});return{name:o.name,allocations:t}})}catch{console.error("Timeline data fetch error")}finally{x.value=!1}};return $(()=>{C()}),(l,d)=>(a(),n("div",j,[e("div",F,[d[0]||(d[0]=e("div",{class:"w-48 border-r border-border p-4 text-[10px] font-bold text-muted uppercase tracking-widest leading-none flex items-center"}," RESOURCE_ID ",-1)),e("div",H,[(a(!0),n(i,null,c(m(p),o=>(a(),n("div",{key:o,class:"flex-none w-20 border-r border-border/50 p-3 text-[10px] font-mono text-muted text-center"},f(o),1))),128))])]),e("div",I,[(a(!0),n(i,null,c(s.value,o=>(a(),n("div",{key:o.name,class:"flex border-b border-border group hover:bg-surface/50 transition-colors"},[e("div",L,f(o.name),1),e("div",N,[(a(),n(i,null,c(24,t=>e("div",{key:t,class:"flex-none w-20 border-r border-border/30 h-full"})),64)),(a(!0),n(i,null,c(o.allocations,(t,r)=>(a(),n("div",{key:r,class:h(["absolute top-2 bottom-2 rounded-sm flex items-center justify-center p-2 overflow-hidden shadow-lg transition-transform hover:scale-[1.02] cursor-pointer",t.color]),style:T({left:t.start*80+"px",width:(t.end-t.start)*80+"px"})},[e("span",{class:h(["text-[9px] font-bold font-mono tracking-tighter truncate",t.conflict?"text-red-500":"text-white"])},f(t.label),3)],6))),128))])]))),128))]),d[1]||(d[1]=z('<div class="p-4 border-t border-border bg-surface flex items-center gap-6 text-[10px] font-mono text-muted uppercase" data-v-798f50d5><div class="flex items-center gap-2" data-v-798f50d5><span class="w-2 h-2 bg-accent rounded-sm" data-v-798f50d5></span> ALLOCATED </div><div class="flex items-center gap-2" data-v-798f50d5><span class="w-2 h-2 border border-red-500 bg-red-500/20 rounded-sm" data-v-798f50d5></span> CONFLICT </div><div class="flex items-center gap-2" data-v-798f50d5><span class="w-2 h-2 bg-neutral-800 rounded-sm" data-v-798f50d5></span> RESERVED </div></div>',1))]))}}),B=D(A,[["__scopeId","data-v-798f50d5"]]),G={class:"space-y-6 md:space-y-8 h-full flex flex-col"},O={class:"flex flex-col md:flex-row md:items-end justify-between gap-4"},P={class:"flex items-center gap-3 self-start md:self-auto"},U={class:"bg-surface border border-border rounded-sm px-3 py-1.5 flex items-center gap-2 text-xs font-mono text-muted"},q={class:"border border-border p-2 rounded-sm text-muted hover:text-primary transition-colors"},J={class:"flex-1 bg-surface border border-border rounded-sm overflow-hidden min-h-[500px] flex flex-col"},K={class:"flex-1 overflow-x-auto overflow-y-hidden"},Q={class:"min-w-[800px] h-full"},Y=w({__name:"Timeline",setup(k){return(p,s)=>(a(),n("div",G,[e("div",O,[s[1]||(s[1]=e("div",null,[e("h2",{class:"text-2xl font-bold text-primary tracking-tight"}," Temporal Grid "),e("p",{class:"text-muted text-sm mt-1"}," Holistic visualization of engine scheduling and temporal constraints. ")],-1)),e("div",P,[e("div",U,[u(m(S),{size:14}),s[0]||(s[0]=R(" 2026-02-13 ",-1))]),e("button",q,[u(m(V),{size:18})])])]),e("div",J,[e("div",K,[e("div",Q,[u(B)])])]),s[2]||(s[2]=e("p",{class:"text-xs text-muted text-center md:hidden pb-4"}," Swipe horizontally to view full timeline ",-1))]))}});export{Y as default};
