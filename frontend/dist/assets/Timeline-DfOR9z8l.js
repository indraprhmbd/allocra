import{a as g}from"./api-Ca2zvfGq.js";import{c as y,d as k,g as $,o,a,b as e,F as i,j as c,t as u,u as f,k as D,n as h,D as T,l as _,_ as z,h as b,i as R}from"./index-Cnm_OeQY.js";var V=y("outline","calendar-event","CalendarEvent",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2l0 -12",key:"svg-0"}],["path",{d:"M16 3l0 4",key:"svg-1"}],["path",{d:"M8 3l0 4",key:"svg-2"}],["path",{d:"M4 11l16 0",key:"svg-3"}],["path",{d:"M8 15h2v2h-2l0 -2",key:"svg-4"}]]);var j=y("outline","filter","Filter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}]]);const F={class:"flex flex-col h-full bg-background select-none"},H={class:"flex border-b border-border bg-surface sticky top-0 z-10"},I={class:"flex-1 flex overflow-x-auto no-scrollbar"},L={class:"flex-1 overflow-y-auto overflow-x-hidden"},N={class:"w-48 border-r border-border p-4 font-mono text-xs text-primary bg-surface/30 flex items-center"},S={class:"flex-1 relative h-16 flex"},A=k({__name:"TimelineGrid",setup(w){const m=Array.from({length:24},(l,n)=>`${n}:00`),d=_([]),p=_(!1),C=async()=>{p.value=!0;try{const[l,n]=await Promise.all([g.get("/rooms"),g.get("/bookings/all")]);d.value=l.data.map(s=>{const t=n.data.filter(r=>r.room_id===s.id).map(r=>{const v=new Date(r.start_time),x=new Date(r.end_time),E=v.getHours()+v.getMinutes()/60,M=x.getHours()+x.getMinutes()/60;return{start:E,end:M,color:r.status==="approved"?"bg-accent":r.status==="rejected"?"border-2 border-red-500 bg-red-500/10":"bg-surface border border-border",label:`AL-${r.id}`,conflict:r.status==="rejected"}});return{name:s.name,allocations:t}})}catch{console.error("Timeline data fetch error")}finally{p.value=!1}};return $(()=>{C()}),(l,n)=>(o(),a("div",F,[e("div",H,[n[0]||(n[0]=e("div",{class:"w-48 border-r border-border p-4 text-[10px] font-bold text-muted uppercase tracking-widest leading-none flex items-center"}," RESOURCE_ID ",-1)),e("div",I,[(o(!0),a(i,null,c(f(m),s=>(o(),a("div",{key:s,class:"flex-none w-20 border-r border-border/50 p-3 text-[10px] font-mono text-muted text-center"},u(s),1))),128))])]),e("div",L,[(o(!0),a(i,null,c(d.value,s=>(o(),a("div",{key:s.name,class:"flex border-b border-border group hover:bg-surface/50 transition-colors"},[e("div",N,u(s.name),1),e("div",S,[(o(),a(i,null,c(24,t=>e("div",{key:t,class:"flex-none w-20 border-r border-border/30 h-full"})),64)),(o(!0),a(i,null,c(s.allocations,(t,r)=>(o(),a("div",{key:r,class:h(["absolute top-2 bottom-2 rounded-sm flex items-center justify-center p-2 overflow-hidden shadow-lg transition-transform hover:scale-[1.02] cursor-pointer",t.color]),style:D({left:t.start*80+"px",width:(t.end-t.start)*80+"px"})},[e("span",{class:h(["text-[9px] font-bold font-mono tracking-tighter truncate",t.conflict?"text-red-500":"text-white"])},u(t.label),3)],6))),128))])]))),128))]),n[1]||(n[1]=T('<div class="p-4 border-t border-border bg-surface flex items-center gap-6 text-[10px] font-mono text-muted uppercase" data-v-c82486bb><div class="flex items-center gap-2" data-v-c82486bb><span class="w-2 h-2 bg-accent rounded-sm" data-v-c82486bb></span> ALLOCATED </div><div class="flex items-center gap-2" data-v-c82486bb><span class="w-2 h-2 border border-red-500 bg-red-500/20 rounded-sm" data-v-c82486bb></span> CONFLICT </div><div class="flex items-center gap-2" data-v-c82486bb><span class="w-2 h-2 bg-neutral-800 rounded-sm" data-v-c82486bb></span> RESERVED </div></div>',1))]))}}),B=z(A,[["__scopeId","data-v-c82486bb"]]),G={class:"space-y-8 h-full flex flex-col"},O={class:"flex items-end justify-between"},P={class:"flex items-center gap-3"},U={class:"bg-surface border border-border rounded-sm px-3 py-1.5 flex items-center gap-2 text-xs font-mono text-muted"},q={class:"border border-border p-2 rounded-sm text-muted hover:text-primary transition-colors"},J={class:"flex-1 bg-surface border border-border rounded-sm overflow-hidden min-h-[500px]"},W=k({__name:"Timeline",setup(w){return(m,d)=>(o(),a("div",G,[e("div",O,[d[1]||(d[1]=e("div",null,[e("h2",{class:"text-2xl font-bold text-primary tracking-tight"}," Temporal Grid "),e("p",{class:"text-muted text-sm mt-1"}," Holistic visualization of engine scheduling and temporal constraints. ")],-1)),e("div",P,[e("div",U,[b(f(V),{size:14}),d[0]||(d[0]=R(" 2026-02-13 ",-1))]),e("button",q,[b(f(j),{size:18})])])]),e("div",J,[b(B)])]))}});export{W as default};
